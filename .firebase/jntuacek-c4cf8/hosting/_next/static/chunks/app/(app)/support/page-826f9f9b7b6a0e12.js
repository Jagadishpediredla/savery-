(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{519:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(40157).A)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]])},13472:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var a=t(95155),r=t(28354),n=t(43038),l=t(12115),i=t(78816),c=t(83343),o=t(35476);function d(e,s){let t=+(0,o.a)(e),[a,r]=[+(0,o.a)(s.start),+(0,o.a)(s.end)].sort((e,s)=>e-s);return t>=a&&t<=r}var h=t(68856),x=t(66695),m=t(62057);function u(e){let{title:s,value:t,icon:r,formatAsCurrency:n=!1,suffix:l,description:i}=e;return(0,a.jsxs)(x.Zp,{className:"bg-card/60 backdrop-blur-lg",children:[(0,a.jsxs)(x.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x.ZB,{className:"text-sm font-medium text-muted-foreground",children:s}),r]}),(0,a.jsxs)(x.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,a.jsx)(m.Ay,{start:0,end:t,duration:1.5,separator:",",prefix:n?"₹":"",suffix:l,decimals:2})}),i&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]})]})}var p=t(83540),j=t(92418),g=t(83394),y=t(96025),f=t(16238),v=t(83455),N=(0,j.gu)({chartName:"BarChart",GraphicalChild:g.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:y.W},{axisType:"yAxis",AxisComp:f.h}],formatAxisMap:v.pr}),k=t(94754),w=t(81499),b=t(83013),D=t(19164);let M={income:{label:"Income",color:"hsl(var(--chart-2))"},expenses:{label:"Expenses",color:"hsl(var(--chart-1))"}};function E(e){let{transactions:s}=e,t=(0,l.useMemo)(()=>{let e={};return s.forEach(s=>{let t=(0,b.GP)((0,D.w)((0,c.H)(s.date)),"MMM yyyy");e[t]||(e[t]={income:0,expenses:0}),"Credit"===s.type?e[t].income+=s.amount:e[t].expenses+=s.amount}),Object.entries(e).map(e=>{let[s,t]=e;return{month:s.split(" ")[0],...t}}).sort((e,s)=>new Date(e.month+" 1, 2024").getTime()-new Date(s.month+" 1, 2024").getTime())},[s]);return(0,a.jsx)(w.at,{config:M,className:"h-80 w-full",children:(0,a.jsx)(p.u,{children:(0,a.jsxs)(N,{data:t,children:[(0,a.jsx)(k.d,{vertical:!1,strokeDasharray:"3 3"}),(0,a.jsx)(y.W,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,stroke:"hsl(var(--muted-foreground))"}),(0,a.jsx)(f.h,{tickLine:!1,axisLine:!1,tickMargin:8,stroke:"hsl(var(--muted-foreground))",tickFormatter:e=>"₹".concat(Number(e)/1e3,"k")}),(0,a.jsx)(w.II,{cursor:!0,content:(0,a.jsx)(w.Nt,{formatter:e=>"₹".concat(Number(e).toLocaleString())})}),(0,a.jsx)(w._3,{content:(0,a.jsx)(w.Hm,{})}),(0,a.jsx)(g.y,{dataKey:"income",fill:"var(--color-income)",radius:4}),(0,a.jsx)(g.y,{dataKey:"expenses",fill:"var(--color-expenses)",radius:4})]})})})}var A=t(8782),L=t(34e3),W=t(54811);let C=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function T(e){let{transactions:s}=e,{chartData:t,chartConfig:r}=(0,l.useMemo)(()=>{let e=new Map,t=(0,i.e)(new Date,30),a=new Date;s.forEach(s=>{let r=(0,c.H)(s.date);if("Debit"===s.type&&d(r,{start:t,end:a})){let t=e.get(s.category)||0;e.set(s.category,t+s.amount)}});let r=Array.from(e.entries()).map((e,s)=>{let[t,a]=e;return{name:t,value:a,fill:C[s%C.length]}}).sort((e,s)=>s.value-e.value).slice(0,5),n={};return r.forEach(e=>{n[e.name]={label:e.name,color:e.fill}}),{chartData:r,chartConfig:n}},[s]);return 0===t.length?(0,a.jsx)("div",{className:"flex h-80 w-full items-center justify-center text-muted-foreground",children:"No spending data for last 30 days."}):(0,a.jsx)(w.at,{config:r,className:"h-80 w-full",children:(0,a.jsx)(p.u,{width:"100%",height:"100%",children:(0,a.jsxs)(A.r,{children:[(0,a.jsx)(w.II,{cursor:!1,content:(0,a.jsx)(w.Nt,{formatter:e=>"₹".concat(Number(e).toLocaleString("en-IN",{maximumFractionDigits:0})),indicator:"dot"})}),(0,a.jsx)(L.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,innerRadius:60,paddingAngle:2,children:t.map(e=>(0,a.jsx)(W.f,{fill:e.fill,stroke:e.fill},"cell-".concat(e.name)))}),(0,a.jsx)(w._3,{content:(0,a.jsx)(w.Hm,{nameKey:"name"}),className:"flex-wrap gap-2 [&>*]:basis-1/3 [&>*]:justify-center"})]})})})}var B=t(40157);let I=(0,B.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Z=(0,B.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),R=(0,B.A)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);var S=t(519),H=t(99445),K=t(62341);let _={netWorth:{label:"Net Worth",color:"hsl(var(--chart-3))"}};function G(e){let{transactions:s}=e,t=(0,l.useMemo)(()=>{if(0===s.length)return[];let e=[...s].sort((e,s)=>(0,c.H)(e.date).getTime()-(0,c.H)(s.date).getTime()),t=0,a=new Map;return e.forEach(e=>{"Credit"===e.type?t+=e.amount:t-=e.amount;let s=(0,b.GP)((0,D.w)((0,c.H)(e.date)),"MMM yyyy");a.set(s,t)}),Array.from(a.entries()).map(e=>{let[s,t]=e;return{month:s.split(" ")[0],netWorth:t}}).sort((e,s)=>new Date(e.month+" 1, 2024").getTime()-new Date(s.month+" 1, 2024").getTime())},[s]);return(0,a.jsx)(w.at,{config:_,className:"h-96 w-full",children:(0,a.jsx)(p.u,{children:(0,a.jsxs)(H.Q,{data:t,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"colorNetWorth",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"var(--color-netWorth)",stopOpacity:.8}),(0,a.jsx)("stop",{offset:"95%",stopColor:"var(--color-netWorth)",stopOpacity:0})]})}),(0,a.jsx)(k.d,{vertical:!1,strokeDasharray:"3 3"}),(0,a.jsx)(y.W,{dataKey:"month",tickLine:!1,axisLine:!1,tickMargin:8,stroke:"hsl(var(--muted-foreground))"}),(0,a.jsx)(f.h,{tickLine:!1,axisLine:!1,tickMargin:8,stroke:"hsl(var(--muted-foreground))",tickFormatter:e=>"₹".concat(Number(e)/1e3,"k")}),(0,a.jsx)(w.II,{cursor:!0,content:(0,a.jsx)(w.Nt,{formatter:e=>"₹".concat(Number(e).toLocaleString())})}),(0,a.jsx)(K.G,{dataKey:"netWorth",type:"monotone",fill:"url(#colorNetWorth)",stroke:"var(--color-netWorth)",strokeWidth:2})]})})})}let P=()=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)(h.E,{className:"h-9 w-64"}),(0,a.jsx)(h.E,{className:"h-4 w-80 mt-2"})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(h.E,{className:"h-32"}),(0,a.jsx)(h.E,{className:"h-32"}),(0,a.jsx)(h.E,{className:"h-32"}),(0,a.jsx)(h.E,{className:"h-32"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,a.jsx)(h.E,{className:"h-[400px] lg:col-span-3"}),(0,a.jsx)(h.E,{className:"h-[400px] lg:col-span-2"})]}),(0,a.jsx)(h.E,{className:"h-[400px] w-full"})]});function F(){let{transactions:e,loading:s}=(0,n.D)(),t=(0,l.useMemo)(()=>{if(0===e.length)return{incomeLast30Days:0,expensesLast30Days:0,netSavingsLast30Days:0,savingsRateLast30Days:0};let s=(0,i.e)(new Date,30),t=new Date,a=0,r=0;e.forEach(e=>{d((0,c.H)(e.date),{start:s,end:t})&&("Credit"===e.type?a+=e.amount:r+=e.amount)});let n=a-r,l=a>0?n/a*100:0;return{incomeLast30Days:a,expensesLast30Days:r,netSavingsLast30Days:n,savingsRateLast30Days:l}},[e]);return s?(0,a.jsx)(r.PageWrapper,{children:(0,a.jsx)(P,{})}):(0,a.jsx)(r.PageWrapper,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Financial Analytics"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"A detailed overview of your financial performance and trends."})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(u,{title:"Income (30 Days)",value:t.incomeLast30Days,icon:(0,a.jsx)(I,{className:"w-6 h-6 text-green-500"}),formatAsCurrency:!0}),(0,a.jsx)(u,{title:"Expenses (30 Days)",value:t.expensesLast30Days,icon:(0,a.jsx)(Z,{className:"w-6 h-6 text-red-500"}),formatAsCurrency:!0}),(0,a.jsx)(u,{title:"Net Savings (30 Days)",value:t.netSavingsLast30Days,icon:(0,a.jsx)(R,{className:"w-6 h-6 text-blue-500"}),formatAsCurrency:!0}),(0,a.jsx)(u,{title:"Savings Rate (30 Days)",value:t.savingsRateLast30Days,icon:(0,a.jsx)(S.A,{className:"w-6 h-6 text-pink-500"}),suffix:"%"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,a.jsxs)(x.Zp,{className:"lg:col-span-3 bg-card/60 backdrop-blur-lg",children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Income vs. Expenses"}),(0,a.jsx)(x.BT,{children:"Monthly comparison of your cash flow."})]}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)(E,{transactions:e})})]}),(0,a.jsxs)(x.Zp,{className:"lg:col-span-2 bg-card/60 backdrop-blur-lg",children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Spending by Category"}),(0,a.jsx)(x.BT,{children:"Breakdown of your expenses in the last 30 days."})]}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)(T,{transactions:e})})]})]}),(0,a.jsxs)(x.Zp,{className:"bg-card/60 backdrop-blur-lg",children:[(0,a.jsxs)(x.aR,{children:[(0,a.jsx)(x.ZB,{children:"Net Worth Growth"}),(0,a.jsx)(x.BT,{children:"Your estimated total balance over time."})]}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)(G,{transactions:e})})]})]})})}},68044:(e,s,t)=>{Promise.resolve().then(t.bind(t,13472))},68856:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(95155),r=t(59434);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...t})}}},e=>{var s=s=>e(e.s=s);e.O(0,[507,769,42,431,589,11,57,445,551,441,684,358],()=>s(68044)),_N_E=e.O()}]);